# Smithery configuration file: https://smithery.ai/docs/config#smitheryyaml

runtime: "container"

build:
  dockerfile: "Dockerfile"
  dockerBuildPath: "."

startCommand:
  type: http
  url: /mcp
  configSchema:
    # JSON Schema defining the configuration options for the MCP.
    type: object
    required: [bcServerUrl, bcCompany]
    properties:
      bcServerUrl:
        type: string
        default: "https://api.businesscentral.dynamics.com/v2.0/{tenant}/{environment}/api/v2.0"
        description: The Business Central API server URL (include tenant and environment).
      bcCompany:
        type: string
        description: The company name to connect to in Business Central.
  exampleConfig:
    bcServerUrl: "https://api.businesscentral.dynamics.com/v2.0/00000000-0000-0000-0000-000000000000/Production/api/v2.0"
    bcCompany: "CRONUS USA, Inc."

env:
  # These will be set from the user's config
  BC_URL_SERVER: "${config.bcServerUrl}"
  BC_COMPANY: "${config.bcCompany}"
